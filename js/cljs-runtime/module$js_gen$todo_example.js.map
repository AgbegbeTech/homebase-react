{
"version":3,
"file":"module$js_gen$todo_example.js",
"lineCount":12,
"mappings":"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",
"sources":["js_gen/todo-example.js"],
"sourcesContent":["shadow$provide[\"module$js_gen$todo_example\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.App = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  HomebaseProvider,\n  useTransact,\n  useQuery,\n  useEntity\n} = window.homebase.react;\n\nconst App = () => {\n  return /*#__PURE__*/_react.default.createElement(HomebaseProvider, {\n    config: config\n  }, /*#__PURE__*/_react.default.createElement(Todos, null));\n};\n\nexports.App = App;\nconst config = {\n  // Schema is only used to enforce \n  // unique constraints and relationships.\n  // It is not a type system, yet.\n  schema: {\n    project: {\n      name: {\n        unique: 'identity'\n      }\n    },\n    todo: {\n      // refs are relationships\n      project: {\n        type: 'ref'\n      },\n      owner: {\n        type: 'ref'\n      }\n    }\n  },\n  // Initial data let's you conveniently transact some \n  // starting data on DB creation to hydrate your components.\n  initialData: [{\n    todoFilter: {\n      // identity is a special unique attribute for user generated ids\n      // E.g. todoFilters are settings that should be easy to lookup by their identity\n      identity: 'todoFilters',\n      showCompleted: true,\n      project: 0\n    }\n  }, {\n    user: {\n      // Negative numbers can be used as temporary ids in a transaction.\n      // Use them to relate multiple entities together at once.\n      id: -1,\n      name: 'Stella'\n    }\n  }, {\n    user: {\n      id: -2,\n      name: 'Arpegius'\n    }\n  }, {\n    project: {\n      id: -3,\n      name: 'Make it'\n    }\n  }, {\n    project: {\n      id: -4,\n      name: 'Do it'\n    }\n  }, {\n    todo: {\n      name: 'Fix ship',\n      owner: -1,\n      project: -3,\n      isCompleted: true,\n      createdAt: new Date('2003/11/10')\n    }\n  }, {\n    todo: {\n      name: 'Go home',\n      owner: -2,\n      project: -4,\n      createdAt: new Date('2003/11/10')\n    }\n  }]\n};\n\nconst Todos = () => {\n  return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(NewTodo, null), /*#__PURE__*/_react.default.createElement(TodoFilters, null), /*#__PURE__*/_react.default.createElement(TodoList, null));\n};\n\nconst NewTodo = () => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/_react.default.createElement(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      transact([{\n        todo: {\n          name: e.target.elements['todo-name'].value,\n          createdAt: new Date()\n        }\n      }]);\n      e.target.reset();\n    }\n  }, /*#__PURE__*/_react.default.createElement(\"input\", {\n    autoFocus: true,\n    type: \"text\",\n    name: \"todo-name\",\n    placeholder: \"What needs to be done?\",\n    autoComplete: \"off\",\n    required: true\n  }), \"\\xA0\", /*#__PURE__*/_react.default.createElement(\"button\", {\n    type: \"submit\"\n  }, \"Create Todo\"));\n};\n\nconst TodoFilters = () => {\n  const [filters] = useEntity({\n    identity: 'todoFilters'\n  });\n  const [transact] = useTransact();\n  return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(\"label\", {\n    htmlFor: \"show-completed\"\n  }, \"Show Completed?\"), /*#__PURE__*/_react.default.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"show-completed\",\n    checked: filters.get('showCompleted'),\n    onChange: e => transact([{\n      todoFilter: {\n        id: filters.get('id'),\n        showCompleted: e.target.checked\n      }\n    }])\n  }), \"\\xA0\\xB7\\xA0\", /*#__PURE__*/_react.default.createElement(ProjectSelect, {\n    value: filters.get('project'),\n    onChange: project => transact([{\n      todoFilter: {\n        id: filters.get('id'),\n        project\n      }\n    }])\n  }));\n};\n\nconst ProjectSelect = ({\n  value,\n  onChange\n}) => {\n  const [projects] = useQuery({\n    $find: 'project',\n    $where: {\n      project: {\n        name: '$any'\n      }\n    }\n  });\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"label\", null, \"Project:\"), \"\\xA0\", /*#__PURE__*/_react.default.createElement(\"select\", {\n    name: \"projects\",\n    value: value,\n    onChange: e => onChange && onChange(Number(e.target.value))\n  }, /*#__PURE__*/_react.default.createElement(\"option\", {\n    value: \"0\"\n  }), projects.map(project => /*#__PURE__*/_react.default.createElement(\"option\", {\n    key: project.get('id'),\n    value: project.get('id')\n  }, project.get('name')))));\n};\n\nconst TodoList = () => {\n  const [filters] = useEntity({\n    identity: 'todoFilters'\n  });\n  const [todos] = useQuery({\n    $find: 'todo',\n    $where: {\n      todo: {\n        name: '$any'\n      }\n    }\n  });\n  return /*#__PURE__*/_react.default.createElement(\"div\", null, todos.filter(todo => {\n    if (!filters.get('showCompleted') && todo.get('isCompleted')) return false;\n    if (filters.get('project') && todo.get('project', 'id') !== filters.get('project')) return false;\n    return true;\n  }).sort((a, b) => a.get('createdAt') > b.get('createdAt') ? -1 : 1).map(todo => /*#__PURE__*/_react.default.createElement(Todo, {\n    key: todo.get('id'),\n    todo: todo\n  })));\n};\n\nconst Todo = ({\n  todo\n}) => /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(\"div\", {\n  style: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    paddingTop: 20\n  }\n}, /*#__PURE__*/_react.default.createElement(TodoCheck, {\n  todo: todo\n}), /*#__PURE__*/_react.default.createElement(TodoName, {\n  todo: todo\n})), /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(TodoProject, {\n  todo: todo\n}), \"\\xA0\\xB7\\xA0\", /*#__PURE__*/_react.default.createElement(TodoOwner, {\n  todo: todo\n}), \"\\xA0\\xB7\\xA0\", /*#__PURE__*/_react.default.createElement(TodoDelete, {\n  todo: todo\n})), /*#__PURE__*/_react.default.createElement(\"small\", {\n  style: {\n    color: 'grey'\n  }\n}, todo.get('createdAt').toLocaleString()));\n\nconst TodoCheck = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/_react.default.createElement(\"input\", {\n    type: \"checkbox\",\n    style: {\n      width: 20,\n      height: 20,\n      cursor: 'pointer'\n    },\n    checked: !!todo.get('isCompleted'),\n    onChange: e => transact([{\n      todo: {\n        id: todo.get('id'),\n        isCompleted: e.target.checked\n      }\n    }])\n  });\n};\n\nconst TodoName = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/_react.default.createElement(\"input\", {\n    style: {\n      border: 'none',\n      fontSize: 20,\n      marginTop: -2,\n      cursor: 'pointer',\n      ...(todo.get('isCompleted') && {\n        textDecoration: 'line-through '\n      })\n    },\n    value: todo.get('name'),\n    onChange: e => transact([{\n      todo: {\n        id: todo.get('id'),\n        name: e.target.value\n      }\n    }])\n  });\n};\n\nconst TodoProject = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/_react.default.createElement(ProjectSelect, {\n    value: todo.get('project', 'id') || '',\n    onChange: projectId => transact([{\n      todo: {\n        id: todo.get('id'),\n        'project': projectId || null\n      }\n    }])\n  });\n};\n\nconst TodoOwner = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  const [users] = useQuery({\n    $find: 'user',\n    $where: {\n      user: {\n        name: '$any'\n      }\n    }\n  });\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"label\", null, \"Owner:\"), \"\\xA0\", /*#__PURE__*/_react.default.createElement(\"select\", {\n    name: \"users\",\n    value: todo.get('owner', 'id') || '',\n    onChange: e => transact([{\n      todo: {\n        id: todo.get('id'),\n        owner: Number(e.target.value) || null\n      }\n    }])\n  }, /*#__PURE__*/_react.default.createElement(\"option\", {\n    value: \"\"\n  }), users.map(user => /*#__PURE__*/_react.default.createElement(\"option\", {\n    key: user.get('id'),\n    value: user.get('id')\n  }, user.get('name')))));\n};\n\nconst TodoDelete = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/_react.default.createElement(\"button\", {\n    onClick: () => transact([['retractEntity', todo.get('id')]])\n  }, \"Delete\");\n};\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","App","_react","_interopRequireDefault","obj","__esModule","default","HomebaseProvider","useTransact","useQuery","useEntity","window","homebase","react","createElement","config","Todos","schema","project","name","unique","todo","type","owner","initialData","todoFilter","identity","showCompleted","user","id","isCompleted","createdAt","Date","NewTodo","TodoFilters","TodoList","transact","onSubmit","e","preventDefault","target","elements","reset","autoFocus","placeholder","autoComplete","required","filters","htmlFor","checked","get","onChange","ProjectSelect","projects","$find","$where","Fragment","Number","map","key","todos","filter","sort","a","b","Todo","style","display","flexDirection","alignItems","paddingTop","TodoCheck","TodoName","TodoProject","TodoOwner","TodoDelete","color","toLocaleString","width","height","cursor","border","fontSize","marginTop","textDecoration","projectId","users","onClick"]
}
