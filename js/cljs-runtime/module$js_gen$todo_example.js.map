{
"version":3,
"file":"module$js_gen$todo_example.js",
"lineCount":75,
"mappings":"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",
"sources":["js_gen/todo-example.js"],
"sourcesContent":["import React from 'goog:module$node_modules$react$index'; // import { HomebaseProvider, useTransact, useQuery, useEntity } from 'homebase-react'\n\nconst {\n  HomebaseProvider,\n  useTransact,\n  useQuery,\n  useEntity\n} = window.homebase.react;\nexport const App = () => {\n  return /*#__PURE__*/React.createElement(HomebaseProvider, {\n    config: config\n  }, /*#__PURE__*/React.createElement(Todos, null));\n};\nconst config = {\n  // Schema is optional. Add as much or as little as you want.\n  schema: {\n    user: {\n      name: {\n        type: 'string'\n      }\n    },\n    project: {\n      name: {\n        unique: 'identity'\n      }\n    },\n    todo: {\n      // refs are relationships\n      project: {\n        type: 'ref'\n      },\n      owner: {\n        type: 'ref'\n      }\n    }\n  },\n  initialData: [{\n    todoFilter: {\n      identity: 'todoFilters',\n      showCompleted: true,\n      project: 0\n    }\n  }, {\n    user: {\n      id: -1,\n      name: 'Stella'\n    }\n  }, {\n    user: {\n      id: -2,\n      name: 'Arpegius'\n    }\n  }, {\n    project: {\n      id: -3,\n      name: 'Make it'\n    }\n  }, {\n    project: {\n      id: -4,\n      name: 'Do it'\n    }\n  }, {\n    todo: {\n      name: 'Fix ship',\n      owner: -1,\n      project: -3,\n      isCompleted: true,\n      createdAt: new Date('2003/11/10')\n    }\n  }, {\n    todo: {\n      name: 'Go home',\n      owner: -2,\n      project: -4,\n      createdAt: new Date('2003/11/10')\n    }\n  }]\n};\n\nconst Todos = () => {\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(NewTodo, null), /*#__PURE__*/React.createElement(TodoFilters, null), /*#__PURE__*/React.createElement(TodoList, null));\n};\n\nconst NewTodo = () => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      transact([{\n        todo: {\n          name: e.target.elements['todo/name'].value,\n          createdAt: new Date()\n        }\n      }]);\n      e.target.reset();\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    autoFocus: true,\n    type: \"text\",\n    name: \"todo/name\",\n    placeholder: \"What needs to be done?\",\n    autoComplete: \"off\",\n    required: true\n  }), \"\\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\"\n  }, \"Create Todo\"));\n};\n\nconst TodoFilters = () => {\n  const [filters] = useEntity({\n    identity: 'todoFilters'\n  });\n  const [transact] = useTransact();\n  window.t = filters;\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"show-completed\"\n  }, \"Show Completed?\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"show-completed\",\n    checked: filters.get('showCompleted'),\n    onChange: e => transact([{\n      todoFilter: {\n        id: filters.get('id'),\n        showCompleted: e.target.checked\n      }\n    }])\n  }), \"\\xA0\\xB7\\xA0\", /*#__PURE__*/React.createElement(ProjectSelect, {\n    value: filters.get('project'),\n    onChange: project => transact([{\n      todoFilter: {\n        id: filters.get('id'),\n        project\n      }\n    }])\n  }));\n};\n\nconst ProjectSelect = ({\n  value,\n  onChange\n}) => {\n  const [projects] = useQuery({\n    $find: 'project',\n    $where: {\n      project: {\n        name: '$any'\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", null, \"Project:\"), \"\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    name: \"projects\",\n    value: value,\n    onChange: e => onChange && onChange(Number(e.target.value))\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\"\n  }), projects.map(project => /*#__PURE__*/React.createElement(\"option\", {\n    key: project.get('id'),\n    value: project.get('id')\n  }, project.get('name')))));\n};\n\nconst TodoList = () => {\n  const [filters] = useEntity({\n    identity: 'todoFilters'\n  });\n  const [todos] = useQuery({\n    $find: 'todo',\n    $where: {\n      todo: {\n        name: '$any'\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", null, todos.filter(todo => {\n    if (!filters.get('showCompleted') && todo.get('isCompleted')) return false;\n    if (filters.get('project') && todo.get('project', 'id') !== filters.get('project')) return false;\n    return true;\n  }).sort((a, b) => a.get('createdAt') > b.get('createdAt') ? -1 : 1).map(todo => /*#__PURE__*/React.createElement(Todo, {\n    key: todo.get('id'),\n    todo: todo\n  })));\n};\n\nconst Todo = ({\n  todo\n}) => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    paddingTop: 20\n  }\n}, /*#__PURE__*/React.createElement(TodoCheck, {\n  todo: todo\n}), /*#__PURE__*/React.createElement(TodoName, {\n  todo: todo\n})), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(TodoProject, {\n  todo: todo\n}), \"\\xA0\\xB7\\xA0\", /*#__PURE__*/React.createElement(TodoOwner, {\n  todo: todo\n}), \"\\xA0\\xB7\\xA0\", /*#__PURE__*/React.createElement(TodoDelete, {\n  todo: todo\n})), /*#__PURE__*/React.createElement(\"small\", {\n  style: {\n    color: 'grey'\n  }\n}, todo.get('createdAt').toLocaleString()));\n\nconst TodoCheck = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    style: {\n      width: 20,\n      height: 20,\n      cursor: 'pointer'\n    },\n    checked: !!todo.get('isCompleted'),\n    onChange: e => transact([{\n      todo: {\n        id: todo.get('id'),\n        isCompleted: e.target.checked\n      }\n    }])\n  });\n};\n\nconst TodoName = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/React.createElement(\"input\", {\n    style: {\n      border: 'none',\n      fontSize: 20,\n      marginTop: -2,\n      cursor: 'pointer',\n      ...(todo.get('isCompleted') && {\n        textDecoration: 'line-through '\n      })\n    },\n    value: todo.get('name'),\n    onChange: e => transact([{\n      todo: {\n        id: todo.get('id'),\n        name: e.target.value\n      }\n    }])\n  });\n};\n\nconst TodoProject = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/React.createElement(ProjectSelect, {\n    value: todo.get('project', 'id') || '',\n    onChange: projectId => transact([[projectId ? ':db/add' : ':db/retract', todo.get('id'), ':todo/project', projectId || null]])\n  });\n};\n\nconst TodoOwner = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  const [users] = useQuery({\n    $find: 'user',\n    $where: {\n      user: {\n        name: '$any'\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", null, \"Owner:\"), \"\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    name: \"users\",\n    value: todo.get('owner', 'id') || '',\n    onChange: e => transact([[Number(e.target.value) ? ':db/add' : ':db/retract', todo.get('id'), ':todo/owner', Number(e.target.value) || null]])\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\"\n  }), users.map(user => /*#__PURE__*/React.createElement(\"option\", {\n    key: user.get('id'),\n    value: user.get('id')\n  }, user.get('name')))));\n};\n\nconst TodoDelete = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => transact([[':db.fn/retractEntity', todo.get('id')]])\n  }, \"Delete\");\n};"],
"names":["HomebaseProvider","useTransact","useQuery","useEntity","window","homebase","react","App","React","createElement","config","Todos","schema","user","name","type","project","unique","todo","owner","initialData","todoFilter","identity","showCompleted","id","isCompleted","createdAt","Date","NewTodo","TodoFilters","TodoList","transact","onSubmit","e","preventDefault","target","elements","value","reset","autoFocus","placeholder","autoComplete","required","filters","t","htmlFor","checked","get","onChange","ProjectSelect","projects","$find","$where","Fragment","Number","map","key","todos","filter","sort","a","b","Todo","style","display","flexDirection","alignItems","paddingTop","TodoCheck","TodoName","TodoProject","TodoOwner","TodoDelete","color","toLocaleString","width","height","cursor","border","fontSize","marginTop","textDecoration","projectId","users","onClick","$jscomp$tmp$exports$module$name"]
}
