{
"version":3,
"file":"module$js_gen$todo_example.js",
"lineCount":74,
"mappings":"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",
"sources":["js_gen/todo-example.js"],
"sourcesContent":["import React from 'goog:module$node_modules$react$index'; // import { HomebaseProvider, useTransact, useQuery, useEntity } from 'homebase-react'\n\nconst {\n  HomebaseProvider,\n  useTransact,\n  useQuery,\n  useEntity\n} = window.homebase.react;\nexport const App = () => {\n  return /*#__PURE__*/React.createElement(HomebaseProvider, {\n    config: config\n  }, /*#__PURE__*/React.createElement(Todos, null));\n};\nconst config = {\n  // simpleSchema: {\n  //   user: { name: { unique: true } },\n  //   project: { name: { unique: true } },\n  //   todo: {\n  //     project: { type: 'ref' }\n  //     owner: { type: 'ref' }\n  //   }\n  // },\n  schema: {\n    ':todo/project': {\n      ':db/valueType': ':db.type/ref',\n      ':db/cardinality': ':db.cardinality/one'\n    },\n    ':todo/owner': {\n      ':db/valueType': ':db.type/ref',\n      ':db/cardinality': ':db.cardinality/one'\n    }\n  },\n  // simpleData: [{\n  //   todoFilter: {\n  //     identity: 'todoFilters',\n  //     showCompleted: true,\n  //     project: 0,\n  //   }\n  // }, {\n  //   user: { \n  //     id: -1, \n  //     name: 'Stella' \n  //   }\n  // }, {\n  //   user: {\n  //     id: -2,\n  //     name: 'Arpegius'\n  //   }\n  // }, {\n  //   project: {\n  //     id: -3,\n  //     name: 'Make it'\n  //   }\n  // }, {\n  //   project: {\n  //     id: -4,\n  //     name: 'Do it'\n  //   }\n  // }, {\n  //   todo: {\n  //     name: 'Fix ship',\n  //     owner: -1,\n  //     project: -3,\n  //     isCompleted: true,\n  //     createdAt: new Date('2003/11/10')\n  // }, {\n  //   todo: {\n  //     name: 'Go home',\n  //     owner: -2,\n  //     project: -4,\n  //     createdAt: new Date('2003/11/10')\n  //   }\n  // }],\n  initialData: [{\n    ':db/ident': 'todoFilters',\n    ':filter/show-completed?': true,\n    ':filter/project': 0\n  }, {\n    ':db/id': -1,\n    ':user/name': 'Stella'\n  }, {\n    ':db/id': -2,\n    ':user/name': 'Arpegius'\n  }, {\n    ':db/id': -3,\n    ':project/name': 'Make it'\n  }, {\n    ':db/id': -4,\n    ':project/name': 'Do it'\n  }, {\n    ':todo/name': 'Fix ship',\n    ':todo/owner': -1,\n    ':todo/project': -3,\n    ':todo/completed?': true,\n    ':todo/created-at': new Date('2003/11/10')\n  }, {\n    ':todo/name': 'Go home',\n    ':todo/owner': -2,\n    ':todo/project': -4,\n    ':todo/created-at': new Date('2003/11/9')\n  }]\n};\n\nconst Todos = () => {\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(NewTodo, null), /*#__PURE__*/React.createElement(TodoFilters, null), /*#__PURE__*/React.createElement(TodoList, null));\n};\n\nconst NewTodo = () => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      transact([{\n        ':todo/name': e.target.elements[':todo/name'].value,\n        ':todo/created-at': new Date()\n      }]);\n      e.target.reset();\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    autoFocus: true,\n    type: \"text\",\n    name: \":todo/name\",\n    placeholder: \"What needs to be done?\",\n    autoComplete: \"off\",\n    required: true\n  }), \"\\xA0\", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\"\n  }, \"Create Todo\"));\n};\n\nconst TodoFilters = () => {\n  const [filters] = useEntity({\n    identity: 'todoFilters'\n  });\n  const [transact] = useTransact();\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \":filter/show-completed?\"\n  }, \"Show Completed?\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \":filter/show-completed?\",\n    checked: filters.get(':filter/show-completed?'),\n    onChange: e => transact([{\n      ':db/id': filters.get(':db/id'),\n      ':filter/show-completed?': e.target.checked\n    }])\n  }), \"\\xA0\\xB7\\xA0\", /*#__PURE__*/React.createElement(ProjectSelect, {\n    value: filters.get(':filter/project'),\n    onChange: projectId => transact([{\n      ':db/id': filters.get(':db/id'),\n      ':filter/project': projectId\n    }])\n  }));\n};\n\nconst ProjectSelect = ({\n  value,\n  onChange\n}) => {\n  const [projects] = useQuery({\n    $find: 'project',\n    $where: {\n      project: {\n        name: '$any'\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", null, \"Project:\"), \"\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    name: \"projects\",\n    value: value,\n    onChange: e => onChange && onChange(Number(e.target.value))\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\"\n  }), projects.map(project => /*#__PURE__*/React.createElement(\"option\", {\n    key: project.get(':db/id'),\n    value: project.get(':db/id')\n  }, project.get(':project/name')))));\n};\n\nconst TodoList = () => {\n  const [filters] = useEntity({\n    identity: 'todoFilters'\n  });\n  const [todos] = useQuery({\n    $find: 'todo',\n    $where: {\n      todo: {\n        name: '$any'\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", null, todos.filter(todo => {\n    if (!filters.get(':filter/show-completed?') && todo.get(':todo/completed?')) return false;\n    if (filters.get(':filter/project') && todo.get(':todo/project', ':db/id') !== filters.get(':filter/project')) return false;\n    return true;\n  }).sort((a, b) => a.get(':todo/created-at') > b.get(':todo/created-at') ? -1 : 1).map(todo => /*#__PURE__*/React.createElement(Todo, {\n    key: todo.get(':db/id'),\n    todo: todo\n  })));\n};\n\nconst Todo = ({\n  todo\n}) => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    paddingTop: 20\n  }\n}, /*#__PURE__*/React.createElement(TodoCheck, {\n  todo: todo\n}), /*#__PURE__*/React.createElement(TodoName, {\n  todo: todo\n})), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(TodoProject, {\n  todo: todo\n}), \"\\xA0\\xB7\\xA0\", /*#__PURE__*/React.createElement(TodoOwner, {\n  todo: todo\n}), \"\\xA0\\xB7\\xA0\", /*#__PURE__*/React.createElement(TodoDelete, {\n  todo: todo\n})), /*#__PURE__*/React.createElement(\"small\", {\n  style: {\n    color: 'grey'\n  }\n}, todo.get(':todo/created-at').toLocaleString()));\n\nconst TodoCheck = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    style: {\n      width: 20,\n      height: 20,\n      cursor: 'pointer'\n    },\n    checked: !!todo.get(':todo/completed?'),\n    onChange: e => transact([{\n      ':db/id': todo.get(':db/id'),\n      ':todo/completed?': e.target.checked\n    }])\n  });\n};\n\nconst TodoName = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/React.createElement(\"input\", {\n    style: {\n      border: 'none',\n      fontSize: 20,\n      marginTop: -2,\n      cursor: 'pointer',\n      ...(todo.get(':todo/completed?') && {\n        textDecoration: 'line-through '\n      })\n    },\n    value: todo.get(':todo/name'),\n    onChange: e => transact([[':db/add', todo.get(':db/id'), ':todo/name', e.target.value]])\n  });\n};\n\nconst TodoProject = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/React.createElement(ProjectSelect, {\n    value: todo.get(':todo/project', ':db/id') || '',\n    onChange: projectId => transact([[projectId ? ':db/add' : ':db/retract', todo.get(':db/id'), ':todo/project', projectId || null]])\n  });\n};\n\nconst TodoOwner = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  const [users] = useQuery({\n    $find: 'user',\n    $where: {\n      user: {\n        name: '$any'\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", null, \"Owner:\"), \"\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    name: \"users\",\n    value: todo.get(':todo/owner', ':db/id') || '',\n    onChange: e => transact([[Number(e.target.value) ? ':db/add' : ':db/retract', todo.get(':db/id'), ':todo/owner', Number(e.target.value) || null]])\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\"\n  }), users.map(user => /*#__PURE__*/React.createElement(\"option\", {\n    key: user.get(':db/id'),\n    value: user.get(':db/id')\n  }, user.get(':user/name')))));\n};\n\nconst TodoDelete = ({\n  todo\n}) => {\n  const [transact] = useTransact();\n  return /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => transact([[':db.fn/retractEntity', todo.get(':db/id')]])\n  }, \"Delete\");\n};"],
"names":["HomebaseProvider","useTransact","useQuery","useEntity","window","homebase","react","App","React","createElement","config","Todos","schema","initialData","Date","NewTodo","TodoFilters","TodoList","transact","onSubmit","e","preventDefault","target","elements","value","reset","autoFocus","type","name","placeholder","autoComplete","required","filters","identity","htmlFor","id","checked","get","onChange","ProjectSelect","projectId","projects","$find","$where","project","Fragment","Number","map","key","todos","todo","filter","sort","a","b","Todo","style","display","flexDirection","alignItems","paddingTop","TodoCheck","TodoName","TodoProject","TodoOwner","TodoDelete","color","toLocaleString","width","height","cursor","border","fontSize","marginTop","textDecoration","users","user","onClick","$jscomp$tmp$exports$module$name"]
}
