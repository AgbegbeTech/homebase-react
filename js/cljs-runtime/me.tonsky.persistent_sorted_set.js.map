{"version":3,"sources":["me/tonsky/persistent_sorted_set.cljs"],"mappings":"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","names":["me.tonsky.persistent-sorted-set/min-len","me.tonsky.persistent-sorted-set/max-len","me.tonsky.persistent-sorted-set/avg-len","me.tonsky.persistent-sorted-set/level-shift","cljs.core.range","p1__19216#","cljs.core.filter","cljs.core/first","me.tonsky.persistent-sorted-set/path-mask","me.tonsky.persistent-sorted-set/empty-path","me.tonsky.persistent-sorted-set/path-get","path","level","me.tonsky.persistent-sorted-set/path-set","idx","me.tonsky.persistent-sorted-set/binary-search-l","cmp","arr","r","k","l","cljs.core/long","m","mk","me.tonsky.persistent-sorted-set/binary-search-r","me.tonsky.persistent-sorted-set/lookup-exact","key","arr-l","G__19219","G__19220","me.tonsky.persistent-sorted-set/lookup-range","me.tonsky.persistent-sorted-set/cut-n-splice","cut-from","cut-to","splice-from","splice-to","xs","xs-l","l1","l2","l1xs","new-arr","me.tonsky.persistent-sorted-set.arrays/make-array","l__19178__auto__","n__4613__auto__","i__19179__auto__","me.tonsky.persistent-sorted-set/splice","me.tonsky.persistent-sorted-set/insert","me.tonsky.persistent-sorted-set/merge-n-split","a1","a2","a1-l","a2-l","total-l","r1-l","r2-l","r1","r2","me.tonsky.persistent-sorted-set/eq-arr","a1-from","a1-to","a2-from","a2-to","len","i","G__19223","G__19224","me.tonsky.persistent-sorted-set/check-n-splice","from","to","var_args","G__19226","me.tonsky.persistent-sorted-set/return-array","js/Error","a3","me$tonsky$persistent-sorted-set$INode$node_lim_key$dyn","x__4428__auto__","m__4429__auto__","me.tonsky.persistent-sorted-set/node-lim-key","goog/typeOf","m__4426__auto__","cljs.core/missing-protocol","me$tonsky$persistent-sorted-set$INode$node_len$dyn","me.tonsky.persistent-sorted-set/node-len","me$tonsky$persistent-sorted-set$INode$node_merge$dyn","me.tonsky.persistent-sorted-set/node-merge","me$tonsky$persistent-sorted-set$INode$node_merge_n_split$dyn","me.tonsky.persistent-sorted-set/node-merge-n-split","me$tonsky$persistent-sorted-set$INode$node_lookup$dyn","me.tonsky.persistent-sorted-set/node-lookup","me$tonsky$persistent-sorted-set$INode$node_conj$dyn","me.tonsky.persistent-sorted-set/node-conj","me$tonsky$persistent-sorted-set$INode$node_disj$dyn","me.tonsky.persistent-sorted-set/node-disj","me.tonsky.persistent-sorted-set/INode","_","next","root?","left","right","me.tonsky.persistent-sorted-set/rotate","node","me.tonsky.persistent_sorted_set.return_array","and__4115__auto__","nodes","cljs.core/PROTOCOL_SENTINEL","this__4369__auto__","writer__4370__auto__","opt__4371__auto__","cljs.core/-write","me.tonsky.persistent-sorted-set/Node","me.tonsky.persistent-sorted-set/->Node","keys","pointers","arr__19197__auto__","me.tonsky.persistent-sorted-set.arrays/aconcat","ks","ps","new-keys","me.tonsky.persistent-sorted-set.arrays/amap","new-pointers","middle","child","left-child","right-child","disjned","left-idx","right-idx","me.tonsky.persistent-sorted-set/Leaf","me.tonsky.persistent-sorted-set/->Leaf","keys-l","G__19229","G__19230","me.tonsky.persistent-sorted-set/uninitialized-hash","self__","args19232","cljs.core/aclone","me.tonsky.persistent-sorted-set/BTSet","me.tonsky.persistent-sorted-set/->BTSet","root","shift","cnt","comparator","meta","_hash","this","cljs.core/pr-str*","new-meta","other","cljs.core/set?","cljs.core/count","p1__19231#","cljs.core/every?","cljs.core/contains?","h__4238__auto__","cljs.core/hash-unordered-coll","me.tonsky.persistent-sorted-set/conj","me.tonsky.persistent-sorted-set/disj","not-found","or__4126__auto__","me.tonsky.persistent-sorted-set/btset-iter","f","temp__5733__auto__","cljs.core/-reduce","start","cljs.core/rseq","writer","opts","cljs.core/pr-sequential-writer","cljs.core/pr-writer","cljs.core/seq","me.tonsky.persistent-sorted-set/keys-for","set","me.tonsky.persistent-sorted-set/alter-btset","me.tonsky.persistent-sorted-set/-next-path","sub-path","G__19233","G__19234","G__19235","me.tonsky.persistent-sorted-set/next-path","me.tonsky.persistent-sorted-set/-rpath","me.tonsky.persistent-sorted-set/-prev-path","sub-level","G__19236","G__19237","G__19238","me.tonsky.persistent-sorted-set/prev-path","me.tonsky.persistent-sorted-set/iter","me.tonsky.persistent-sorted-set/Chunk","me.tonsky.persistent-sorted-set/->Chunk","off","end","cljs.core/ArrayChunk","val","n","val'","G__19239","G__19240","cljs.core/deref","cljs.core/reduced?","me$tonsky$persistent-sorted-set$IIter$_copy$dyn","me.tonsky.persistent-sorted-set/-copy","me.tonsky.persistent-sorted-set/IIter","me.tonsky.persistent-sorted-set/Iter","me.tonsky.persistent-sorted-set/->Iter","cljs.core/equiv-sequential","left'","cljs.core.not_EQ_","end-idx","cljs.core._EQ_","first","temp__5737__auto__","acc","new-acc","G__19244","G__19245","new-left","G__19241","G__19242","G__19243","me.tonsky.persistent-sorted-set/riter","me.tonsky.persistent-sorted-set/ReverseIter","me.tonsky.persistent-sorted-set/->ReverseIter","new-right","me.tonsky.persistent-sorted-set/-distance","idx-l","idx-r","G__19246","G__19247","G__19248","G__19249","res","me.tonsky.persistent-sorted-set/distance","path-l","path-r","me.tonsky.persistent-sorted-set/est-count","iter","me.tonsky.persistent-sorted-set/-seek","me.tonsky.persistent-sorted-set/-rseek","me.tonsky.persistent-sorted-set/-slice","key-from","key-to","till-path","me.tonsky.persistent-sorted-set/arr-map-inplace","G__19250","me.tonsky.persistent-sorted-set/arr-partition-approx","min-len","max-len","chunk-len","cljs.core/transient","pos","rest","cljs.core.conj_BANG_","piece-len","cljs.core/to-array","cljs.core/persistent!","me.tonsky.persistent-sorted-set/sorted-arr-distinct?","al","p","e","me.tonsky.persistent-sorted-set/sorted-arr-distinct","cljs.core.into_array","roots","new-roots","new-root","G__19252","me.tonsky.persistent-sorted-set/slice","G__19254","me.tonsky.persistent-sorted-set/rslice","G__19255","G__19256","G__19257","me.tonsky.persistent-sorted-set/from-sorted-array","leaves","p1__19258#","current-level","G__19260","p1__19259#","me.tonsky.persistent-sorted-set/from-sequential","seq","me.tonsky.persistent-sorted-set.arrays/asort","G__19264","me.tonsky.persistent-sorted-set/sorted-set-by","args-arr__4757__auto__","len__4736__auto__","i__4737__auto__","argseq__4758__auto__","cljs.core/IndexedSeq","seq19262","G__19263","cljs.core/next","self__4723__auto__","G__19267","me.tonsky.persistent-sorted-set/sorted-set","seq19266","self__4724__auto__","me.tonsky.persistent_sorted_set.sorted_set_by","cljs.core/compare"],"sourcesContent":["(ns ^{:doc\n  \"A B-tree based persistent sorted set. Supports transients, custom comparators, fast iteration, efficient slices (iterator over a part of the set) and reverse slices. Almost a drop-in replacement for [[clojure.core/sorted-set]], the only difference being this one can\u2019t store nil.\"\n  :author \"Nikita Prokopov\"}\n  me.tonsky.persistent-sorted-set\n  (:refer-clojure :exclude [iter conj disj sorted-set sorted-set-by])\n  (:require\n    [me.tonsky.persistent-sorted-set.arrays :as arrays])\n  (:require-macros\n    [me.tonsky.persistent-sorted-set.arrays :as arrays]))\n\n\n; B+ tree\n; -------\n\n; Leaf:     keys[]     :: array of values\n\n; Node:     pointers[] :: links to children nodes\n;           keys[]     :: max value for whole subtree\n;                         node.keys[i] == max(node.pointers[i].keys)\n; All arrays are 16..32 elements, inclusive\n\n; BTSet:    root       :: Node or Leaf\n;           shift      :: path bit-shift of root level, == (depth - 1) * level-shift\n;           cnt        :: size of a set, integer, rolling\n;           comparator :: comparator used for ordering\n;           meta       :: clojure meta map\n;           _hash      :: hash code, same as for clojure collections, on-demand, cached\n\n; Path: conceptually a vector of indexes from root to leaf value, but encoded in a single int.\n;       E.g. we have path [7 53 11] representing root.pointers[7].pointers[3].keys[11].\n;       In our case level-shift is 8, meaning each index will take 8 bits:\n;       (7 << 16) | (53 << 8) | 11 = 472331\n;       0000 0111   0011 0101   0000 1011\n\n; Iter:     set       :: Set this iterator belongs to\n;           left      :: Current path\n;           right     :: Right bound path (exclusive)\n;           keys      :: Cached ref for keys array for a leaf\n;           idx       :: Cached idx in keys array\n; Keys and idx are cached for fast iteration inside a leaf\"\n\n\n(def ^:const min-len 16)\n(def ^:const max-len 32)\n(def ^:private ^:const avg-len (arrays/half (+ max-len min-len)))\n(def ^:private ^:const level-shift (->> (range 31 -1 -1)\n                                     (filter #(bit-test max-len %))\n                                     first\n                                     inc))\n(def ^:private ^:const path-mask (dec (bit-shift-left 1 level-shift)))\n(def ^:private ^:const empty-path 0)\n\n(defn- path-get [path level]\n  (bit-and path-mask\n           (unsigned-bit-shift-right path level)))\n\n(defn- path-set [path level idx]\n  (bit-or path \n          (bit-shift-left idx level)))\n\n(defn- binary-search-l [cmp arr r k]\n  (loop [l 0\n         r (long r)]\n    (if (<= l r)\n      (let [m  (arrays/half (+ l r))\n            mk (arrays/aget arr m)]\n        (if (neg? (cmp mk k))\n          (recur (inc m) r)\n          (recur l (dec m))))\n      l)))\n\n(defn- binary-search-r [cmp arr r k]\n  (loop [l 0\n         r (long r)]\n    (if (<= l r)\n      (let [m  (arrays/half (+ l r))\n            mk (arrays/aget arr m)]\n        (if (pos? (cmp mk k))\n          (recur l (dec m))\n          (recur (inc m) r)))\n      l)))\n\n(defn- lookup-exact [cmp arr key]\n  (let [arr-l (arrays/alength arr)\n        idx   (binary-search-l cmp arr (dec arr-l) key)]\n    (if (and (< idx arr-l)\n             (== 0 (cmp (arrays/aget arr idx) key)))\n      idx\n      -1)))\n\n(defn- lookup-range [cmp arr key]\n  (let [arr-l (arrays/alength arr)\n        idx   (binary-search-l cmp arr (dec arr-l) key)]\n    (if (== idx arr-l)\n      -1\n      idx)))\n\n;; Array operations\n\n(defn- cut-n-splice [arr cut-from cut-to splice-from splice-to xs]\n  (let [xs-l (arrays/alength xs)\n        l1   (- splice-from cut-from)\n        l2   (- cut-to splice-to)\n        l1xs (+ l1 xs-l)\n        new-arr (arrays/make-array (+ l1 xs-l l2))]\n    (arrays/acopy arr cut-from splice-from new-arr 0)\n    (arrays/acopy xs 0 xs-l new-arr l1)\n    (arrays/acopy arr splice-to cut-to new-arr l1xs)\n    new-arr))\n\n(defn- splice [arr splice-from splice-to xs]\n  (cut-n-splice arr 0 (arrays/alength arr) splice-from splice-to xs))\n\n(defn- insert [arr idx xs]\n  (cut-n-splice arr 0 (arrays/alength arr) idx idx xs))\n\n(defn- merge-n-split [a1 a2]\n  (let [a1-l    (arrays/alength a1)\n        a2-l    (arrays/alength a2)\n        total-l (+ a1-l a2-l)\n        r1-l    (arrays/half total-l)\n        r2-l    (- total-l r1-l)\n        r1      (arrays/make-array r1-l)\n        r2      (arrays/make-array r2-l)]\n    (if (<= a1-l r1-l)\n      (do\n        (arrays/acopy a1 0             a1-l          r1 0)\n        (arrays/acopy a2 0             (- r1-l a1-l) r1 a1-l)\n        (arrays/acopy a2 (- r1-l a1-l) a2-l          r2 0))\n      (do\n        (arrays/acopy a1 0    r1-l r1 0)\n        (arrays/acopy a1 r1-l a1-l r2 0)\n        (arrays/acopy a2 0    a2-l r2 (- a1-l r1-l))))\n    (arrays/array r1 r2)))\n\n(defn- ^boolean eq-arr [cmp a1 a1-from a1-to a2 a2-from a2-to]\n  (let [len (- a1-to a1-from)]\n    (and\n      (== len (- a2-to a2-from))\n      (loop [i 0]\n        (cond\n          (== i len)\n          true\n\n          (not (== 0 (cmp\n                       (arrays/aget a1 (+ i a1-from))\n                       (arrays/aget a2 (+ i a2-from)))))\n          false\n          \n          :else\n          (recur (inc i)))))))\n\n(defn- check-n-splice [cmp arr from to new-arr]\n  (if (eq-arr cmp arr from to new-arr 0 (arrays/alength new-arr))\n    arr\n    (splice arr from to new-arr)))\n\n(defn- return-array\n  \"Drop non-nil references and return array of arguments\"\n  ([a1]\n    (arrays/array a1))\n  ([a1 a2]\n    (if a1\n      (if a2\n        (arrays/array a1 a2)\n        (arrays/array a1))\n      (arrays/array a2)))\n  ([a1 a2 a3]\n    (if a1\n      (if a2\n        (if a3\n          (arrays/array a1 a2 a3)\n          (arrays/array a1 a2))\n        (if a3\n          (arrays/array a1 a3)\n          (arrays/array a1)))\n      (if a2\n        (if a3\n          (arrays/array a2 a3)\n          (arrays/array a2))\n        (arrays/array a3)))))\n\n;;\n\n(defprotocol INode\n  (node-lim-key       [_])\n  (node-len           [_])\n  (node-merge         [_ next])\n  (node-merge-n-split [_ next])\n  (node-lookup        [_ cmp key])\n  (node-conj          [_ cmp key])\n  (node-disj          [_ cmp key root? left right]))\n\n(defn- rotate [node root? left right]\n  (cond\n    ;; root never merges\n    root?\n    (return-array node)\n\n    ;; enough keys, nothing to merge\n    (> (node-len node) min-len)\n    (return-array left node right)\n\n    ;; left and this can be merged to one\n    (and left (<= (node-len left) min-len))\n    (return-array (node-merge left node) right)\n\n    ;; right and this can be merged to one\n    (and right (<= (node-len right) min-len))\n    (return-array left (node-merge node right))\n\n    ;; left has fewer nodes, redestribute with it\n    (and left (or (nil? right)\n                  (< (node-len left) (node-len right))))\n    (let [nodes (node-merge-n-split left node)]\n      (return-array (arrays/aget nodes 0) (arrays/aget nodes 1) right))\n\n    ;; right has fewer nodes, redestribute with it\n    :else\n    (let [nodes (node-merge-n-split node right)]\n      (return-array left (arrays/aget nodes 0) (arrays/aget nodes 1)))))\n\n(deftype Node [keys pointers]\n  INode\n  (node-lim-key [_]\n    (arrays/alast keys))\n  \n  (node-len [_]\n    (arrays/alength keys))\n  \n  (node-merge [_ next]\n    (Node. (arrays/aconcat keys (.-keys next))\n           (arrays/aconcat pointers (.-pointers next))))\n  \n  (node-merge-n-split [_ next]\n    (let [ks (merge-n-split keys     (.-keys next))\n          ps (merge-n-split pointers (.-pointers next))]\n      (return-array (Node. (arrays/aget ks 0) (arrays/aget ps 0))\n                    (Node. (arrays/aget ks 1) (arrays/aget ps 1)))))\n\n  (node-lookup [_ cmp key]\n    (let [idx (lookup-range cmp keys key)]\n      (when-not (== -1 idx)\n        (node-lookup (arrays/aget pointers idx) cmp key))))\n  \n  (node-conj [_ cmp key]\n    (let [idx   (binary-search-l cmp keys (- (arrays/alength keys) 2) key)\n          nodes (node-conj (arrays/aget pointers idx) cmp key)]\n      (when nodes\n        (let [new-keys     (check-n-splice cmp keys     idx (inc idx) (arrays/amap node-lim-key nodes))\n              new-pointers (splice             pointers idx (inc idx) nodes)]\n          (if (<= (arrays/alength new-pointers) max-len)\n            ;; ok as is\n            (arrays/array (Node. new-keys new-pointers))\n            ;; gotta split it up\n            (let [middle  (arrays/half (arrays/alength new-pointers))]\n              (arrays/array\n                (Node. (.slice new-keys     0 middle)\n                       (.slice new-pointers 0 middle))\n                (Node. (.slice new-keys     middle)\n                       (.slice new-pointers middle)))))))))\n\n  (node-disj [_ cmp key root? left right]\n    (let [idx (lookup-range cmp keys key)]\n      (when-not (== -1 idx) ;; short-circuit, key not here\n        (let [child       (arrays/aget pointers idx)\n              left-child  (when (>= (dec idx) 0)\n                            (arrays/aget pointers (dec idx)))\n              right-child (when (< (inc idx) (arrays/alength pointers))\n                            (arrays/aget pointers (inc idx)))\n              disjned     (node-disj child cmp key false left-child right-child)]\n          (when disjned     ;; short-circuit, key not here\n            (let [left-idx     (if left-child  (dec idx) idx)\n                  right-idx    (if right-child (+ 2 idx) (+ 1 idx))\n                  new-keys     (check-n-splice cmp keys     left-idx right-idx (arrays/amap node-lim-key disjned))\n                  new-pointers (splice             pointers left-idx right-idx disjned)]\n              (rotate (Node. new-keys new-pointers) root? left right))))))))\n\n(deftype Leaf [keys]\n  INode\n  (node-lim-key [_]\n    (arrays/alast keys))\n;;   Object\n;;   (toString [_] (pr-str* (vec keys)))\n  \n  (node-len [_]\n    (arrays/alength keys))\n  \n  (node-merge [_ next]\n    (Leaf. (arrays/aconcat keys (.-keys next))))\n  \n  (node-merge-n-split [_ next]\n    (let [ks (merge-n-split keys (.-keys next))]\n      (return-array (Leaf. (arrays/aget ks 0))\n                    (Leaf. (arrays/aget ks 1)))))\n  \n  (node-lookup [_ cmp key]\n    (let [idx (lookup-exact cmp keys key)]\n      (when-not (== -1 idx)\n        (arrays/aget keys idx))))\n\n  (node-conj [_ cmp key]\n    (let [idx    (binary-search-l cmp keys (dec (arrays/alength keys)) key)\n          keys-l (arrays/alength keys)]\n      (cond\n        ;; element already here\n        (and (< idx keys-l)\n             (== 0 (cmp key (arrays/aget keys idx))))\n          nil\n      \n        ;; splitting\n        (== keys-l max-len)\n          (let [middle (arrays/half (inc keys-l))]\n            (if (> idx middle)\n              ;; new key goes to the second half\n              (arrays/array\n                (Leaf. (.slice keys 0 middle))\n                (Leaf. (cut-n-splice keys middle keys-l idx idx (arrays/array key))))\n              ;; new key goes to the first half\n              (arrays/array\n                (Leaf. (cut-n-splice keys 0 middle idx idx (arrays/array key)))\n                (Leaf. (.slice keys middle keys-l)))))\n       \n        ;; ok as is\n        :else\n          (arrays/array (Leaf. (splice keys idx idx (arrays/array key)))))))\n  \n  (node-disj [_ cmp key root? left right]\n    (let [idx (lookup-exact cmp keys key)]\n      (when-not (== -1 idx) ;; key is here\n        (let [new-keys (splice keys idx (inc idx) (arrays/array))]\n          (rotate (Leaf. new-keys) root? left right))))))\n\n;; BTSet\n\n(declare conj disj btset-iter)\n\n(def ^:private ^:const uninitialized-hash nil)\n\n(deftype BTSet [root shift cnt comparator meta ^:mutable _hash]\n  Object\n  (toString [this] (pr-str* this))\n\n  ICloneable\n  (-clone [_] (BTSet. root shift cnt comparator meta _hash))\n\n  IWithMeta\n  (-with-meta [_ new-meta] (BTSet. root shift cnt comparator new-meta _hash))\n\n  IMeta\n  (-meta [_] meta)\n\n  IEmptyableCollection\n  (-empty [_] (BTSet. (Leaf. (arrays/array)) 0 0 comparator meta uninitialized-hash))\n\n  IEquiv\n  (-equiv [this other]\n    (and\n      (set? other)\n      (== cnt (count other))\n      (every? #(contains? this %) other)))\n\n  IHash\n  (-hash [this] (caching-hash this hash-unordered-coll _hash))\n\n  ICollection\n  (-conj [this key] (conj this key comparator))\n\n  ISet\n  (-disjoin [this key] (disj this key comparator))\n\n  ILookup \n  (-lookup [_ k]\n    (node-lookup root comparator k))\n  (-lookup [_ k not-found]\n    (or (node-lookup root comparator k) not-found))\n\n  ISeqable\n  (-seq [this] (btset-iter this))\n\n  IReduce\n  (-reduce [this f]\n    (if-let [i (btset-iter this)]\n      (-reduce i f)\n      (f)))\n  (-reduce [this f start]\n    (if-let [i (btset-iter this)]\n      (-reduce i f start)\n      start))\n           \n  IReversible\n  (-rseq [this] (rseq (btset-iter this)))\n\n  ; ISorted\n  ; (-sorted-seq [this ascending?])\n  ; (-sorted-seq-from [this k ascending?])\n  ; (-entry-key [this entry] entry)\n  ; (-comparator [this] comparator)\n\n  ICounted\n  (-count [_] cnt)\n\n  IEditableCollection\n  (-as-transient [this] this)\n\n  ITransientCollection\n  (-conj! [this key] (conj this key comparator))\n  (-persistent! [this] this)\n\n  ITransientSet\n  (-disjoin! [this key] (disj this key comparator))\n\n  IFn\n  (-invoke [this k] (-lookup this k))\n  (-invoke [this k not-found] (-lookup this k not-found))\n\n  IPrintWithWriter\n  (-pr-writer [this writer opts]\n    (pr-sequential-writer writer pr-writer \"#{\" \" \" \"}\" opts (seq this))))\n  \n(defn- keys-for [set path]\n  (loop [level (.-shift set)\n         node  (.-root set)]\n    (if (pos? level)\n      (recur (- level level-shift)\n             (arrays/aget (.-pointers node)\n                   (path-get path level)))\n      (.-keys node))))\n\n(defn- alter-btset [set root shift cnt]\n  (BTSet. root shift cnt (.-comparator set) (.-meta set) uninitialized-hash))\n\n\n;; iteration\n\n(defn- -next-path [node path level]\n  (let [idx (path-get path level)]\n    (if (pos? level)\n      ;; inner node\n      (let [sub-path (-next-path (arrays/aget (.-pointers node) idx) path (- level level-shift))]\n        (if (== -1 sub-path)\n          ;; nested node overflow\n          (if (< (inc idx) (arrays/alength (.-pointers node)))\n            ;; advance current node idx, reset subsequent indexes\n            (path-set empty-path level (inc idx))\n            ;; current node overflow\n            -1)\n          ;; keep current idx\n          (path-set sub-path level idx)))\n      ;; leaf\n      (if (< (inc idx) (arrays/alength (.-keys node)))\n        ;; advance leaf idx\n        (path-set empty-path 0 (inc idx))\n        ;; leaf overflow\n        -1))))\n\n(defn- next-path\n  \"Returns path representing next item after `path` in natural traversal order,\n   or -1 if end of tree has been reached\"\n  [set path]\n  (-next-path (.-root set) path (.-shift set)))\n\n(defn- -rpath\n  \"Returns rightmost path possible starting from node and going deeper\"\n  [node level]\n  (loop [node  node\n         path  empty-path\n         level level]\n    (if (pos? level)\n      ;; inner node\n      (recur (arrays/alast (.-pointers node))\n             (path-set path level (dec (arrays/alength (.-pointers node))))\n             (- level level-shift))\n      ;; leaf\n      (path-set path 0 (dec (arrays/alength (.-keys node)))))))\n\n(defn- -prev-path [node path level]\n  (let [idx (path-get path level)]\n    (if (pos? level)\n      ;; inner node\n      (let [sub-level (- level level-shift)\n            sub-path  (-prev-path (arrays/aget (.-pointers node) idx) path sub-level)]\n        (if (== -1 sub-path)\n          ;; nested node overflow\n          (if (>= (dec idx) 0)\n            ;; advance current node idx, reset subsequent indexes\n            (let [idx      (dec idx)\n                  sub-path (-rpath (arrays/aget (.-pointers node) idx) sub-level)]\n              (path-set sub-path level idx))\n            ;; current node overflow\n            -1)\n          ;; keep current idx\n          (path-set sub-path level idx)))\n      ;; leaf\n      (if (>= (dec idx) 0)\n        ;; advance leaf idx\n        (path-set empty-path 0 (dec idx))\n        ;; leaf overflow\n        -1))))\n\n(defn- prev-path\n  \"Returns path representing previous item before `path` in natural traversal order,\n   or -1 if `path` was already beginning of a tree\"\n  [set path]\n  (-prev-path (.-root set) path (.-shift set)))\n\n(declare iter riter)\n\n(defn- btset-iter\n  \"Iterator that represents the whole set\"\n  [set]\n  (when (pos? (node-len (.-root set)))\n    (let [left   empty-path\n          right  (inc (-rpath (.-root set) (.-shift set)))]\n      (iter set left right))))\n\n;; replace with cljs.core/ArrayChunk after https://dev.clojure.org/jira/browse/CLJS-2470\n(deftype Chunk [arr off end]\n  ICounted\n  (-count [_] (- end off))\n\n  IIndexed\n  (-nth [this i]\n    (aget arr (+ off i)))\n  (-nth [this i not-found]\n    (if (and (>= i 0) (< i (- end off)))\n      (aget arr (+ off i))\n      not-found))\n\n  IChunk\n  (-drop-first [this]\n    (if (== off end)\n      (throw (js/Error. \"-drop-first of empty chunk\"))\n      (ArrayChunk. arr (inc off) end)))\n\n  IReduce\n  (-reduce [this f]\n    (if (== off end)\n      (f)\n      (-reduce (-drop-first this) f (aget arr off))))\n  (-reduce [this f start]\n    (loop [val start, n off]\n      (if (< n end)\n        (let [val' (f val (aget arr n))]\n          (if (reduced? val')\n            @val'\n            (recur val' (inc n))))\n        val))))\n\n(defprotocol IIter\n  (-copy [this left right]))\n\n(deftype Iter [set left right keys idx]\n  IIter\n  (-copy [_ l r]\n    (Iter. set l r (keys-for set l) (path-get l 0)))\n\n  IEquiv\n  (-equiv [this other] (equiv-sequential this other))\n\n  ISequential\n  ISeqable\n  (-seq [this] (when keys this))\n\n  ISeq\n  (-first [this]\n    (when keys\n      (arrays/aget keys idx)))\n\n  (-rest [this] (or (-next this) ()))\n\n  INext\n  (-next [this]\n    (when keys\n      (if (< (inc idx) (arrays/alength keys))\n        ;; can use cached array to move forward\n        (when (< (inc left) right)\n          (Iter. set (inc left) right keys (inc idx)))\n        (let [left' (next-path set left)]\n          (when (and (not= -1 left') (< left' right))\n            (-copy this left' right))))))\n\n  IChunkedSeq\n  (-chunked-first [this]\n    (let [end-idx (if (= (bit-or left path-mask)\n                         (bit-or right path-mask))\n                    (bit-and right path-mask)\n                    (arrays/alength keys))]\n      (Chunk. keys idx end-idx)))\n\n  (-chunked-rest [this]\n    (or (-chunked-next this) ()))\n\n  IChunkedNext\n  (-chunked-next [this]\n    (let [left' (next-path set (+ left (- (arrays/alength keys) idx 1)))]\n      (when (and (not= -1 left') (< left' right))\n        (-copy this left' right))))\n           \n  IReduce\n  (-reduce [this f]\n    (if (nil? keys)\n      (f)\n      (let [first (-first this)]\n        (if-some [next (-next this)]\n          (-reduce next f first)\n          first))))\n\n  (-reduce [this f start]\n    (loop [left left\n           keys keys\n           idx  idx\n           acc  start]\n      (if (nil? keys)\n        acc\n        (let [new-acc (f acc (arrays/aget keys idx))]\n          (cond\n            (reduced? new-acc)\n            @new-acc\n\n            (< (inc idx) (arrays/alength keys)) ;; can use cached array to move forward\n            (if (< (inc left) right)\n              (recur (inc left) keys (inc idx) new-acc)\n              new-acc)\n\n            :else\n            (let [new-left (next-path set left)]\n              (if (and (not (== -1 new-left)) (< new-left right))\n                (recur new-left (keys-for set new-left) (path-get new-left 0) new-acc)\n                new-acc)))))))\n\n  IReversible\n  (-rseq [this]\n    (when keys\n      (riter set (prev-path set left) (prev-path set right))))\n\n  Object\n  (toString [this] (pr-str* this))\n\n  IPrintWithWriter\n  (-pr-writer [this writer opts]\n    (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts (seq this))))\n\n(defn iter [set left right]\n  (Iter. set left right (keys-for set left) (path-get left 0)))\n\n;; reverse iteration\n\n(deftype ReverseIter [set left right keys idx]\n  IIter\n  (-copy [_ l r]\n    (ReverseIter. set l r (keys-for set r) (path-get r 0)))\n\n  IEquiv\n  (-equiv [this other] (equiv-sequential this other))\n\n  ISequential\n  ISeqable\n  (-seq [this] (when keys this))\n\n  ISeq\n  (-first [this]\n    (when keys\n      (arrays/aget keys idx)))\n\n  (-rest [this]  (or (-next this) ()))\n\n  INext\n  (-next [this]\n    (when keys\n      (if (>= (dec idx) 0)\n        ;; can use cached array to advance\n        (when (> (dec right) left)\n          (ReverseIter. set left (dec right) keys (dec idx)))\n        (let [right (prev-path set right)]\n          (when (and (not= -1 right) (> right left))\n            (-copy this left right))))))\n\n  IReversible\n  (-rseq [this]\n    (when keys\n      (let [new-left  (if (== left -1) 0 (next-path set left))\n            new-right (next-path set right)\n            new-right (if (== new-right -1) (inc right) new-right)]\n        (iter set new-left new-right))))\n\n  Object\n  (toString [this] (pr-str* this))\n\n  IPrintWithWriter\n  (-pr-writer [this writer opts]\n    (pr-sequential-writer writer pr-writer \"(\" \" \" \")\" opts (seq this))))\n\n(defn riter [set left right]\n  (ReverseIter. set left right (keys-for set right) (path-get right 0)))\n\n;; distance\n\n(defn- -distance [node left right level]\n  (let [idx-l (path-get left level)\n        idx-r (path-get right level)]\n    (if (pos? level)\n      ;; inner node\n      (if (== idx-l idx-r)\n        (-distance (arrays/aget (.-pointers node) idx-l) left right (- level level-shift))\n        (loop [level level\n               res   (- idx-r idx-l)]\n          (if (== 0 level)\n            res\n            (recur (- level level-shift) (* res avg-len)))))\n      (- idx-r idx-l))))\n\n(defn- distance [set path-l path-r]\n  (cond\n    (== path-l path-r) 0\n    (== (inc path-l) path-r) 1\n    (== (next-path set path-l) path-r) 1\n    :else (-distance (.-root set) path-l path-r (.-shift set))))\n\n(defn est-count [iter]\n  (distance (.-set iter) (.-left iter) (.-right iter)))\n\n\n;; Slicing\n\n(defn- -seek\n  \"Returns path to first element >= key,\n   or -1 if all elements in a set < key\"\n  [set key comparator]\n  (loop [node  (.-root set)\n         path  empty-path\n         level (.-shift set)]\n    (let [keys-l (node-len node)]\n      (if (== 0 level)\n        (let [keys (.-keys node)\n              idx  (binary-search-l comparator keys (dec keys-l) key)]\n          (if (== keys-l idx) -1 (path-set path 0 idx)))\n        (let [keys (.-keys node)\n              idx  (binary-search-l comparator keys (- keys-l 2) key)]\n          (recur (arrays/aget (.-pointers node) idx)\n                 (path-set path level idx)\n                 (- level level-shift)))))))\n\n(defn- -rseek\n  \"Returns path to the first element that is > key.\n   If all elements in a set are <= key, returns `(-rpath set) + 1`.\n   It\u2019s a virtual path that is bigger than any path in a tree\"\n  [set key comparator]\n  (loop [node  (.-root set)\n         path  empty-path\n         level (.-shift set)]\n    (let [keys-l (node-len node)]\n      (if (== 0 level)\n        (let [keys (.-keys node)\n              idx  (binary-search-r comparator keys (dec keys-l) key)]\n          (path-set path 0 idx))\n        (let [keys (.-keys node)\n              idx  (binary-search-r comparator keys (- keys-l 2) key)]\n          (recur (arrays/aget (.-pointers node) idx)\n                 (path-set path level idx)\n                 (- level level-shift)))))))\n\n(defn- -slice [set key-from key-to comparator]\n  (let [path (-seek set key-from comparator)]\n    (when-not (neg? path)\n      (let [till-path (-rseek set key-to comparator)]\n        (when (> till-path path)\n          (Iter. set path till-path (keys-for set path) (path-get path 0)))))))\n\n\n(defn- arr-map-inplace [f arr]\n  (let [len (arrays/alength arr)]\n    (loop [i 0]\n      (when (< i len)\n        (arrays/aset arr i (f (arrays/aget arr i)))\n        (recur (inc i))))\n    arr))\n\n\n(defn- arr-partition-approx\n  \"Splits `arr` into arrays of size between min-len and max-len,\n   trying to stick to (min+max)/2\"\n  [min-len max-len arr]\n  (let [chunk-len avg-len\n        len       (arrays/alength arr)\n        acc       (transient [])]\n    (when (pos? len)\n      (loop [pos 0]\n        (let [rest (- len pos)]\n          (cond\n            (<= rest max-len)\n              (conj! acc (.slice arr pos))\n            (>= rest (+ chunk-len min-len))\n              (do\n                (conj! acc (.slice arr pos (+ pos chunk-len)))\n                (recur (+ pos chunk-len)))\n            :else\n              (let [piece-len (arrays/half rest)]\n                (conj! acc (.slice arr pos (+ pos piece-len)))\n                (recur (+ pos piece-len)))))))\n    (to-array (persistent! acc))))\n\n\n(defn- sorted-arr-distinct? [arr cmp]\n  (let [al (arrays/alength arr)]\n    (if (<= al 1)\n      true\n      (loop [i 1\n             p (arrays/aget arr 0)]\n        (if (>= i al)\n          true\n          (let [e (arrays/aget arr i)]\n            (if (== 0 (cmp e p))\n              false\n              (recur (inc i) e))))))))\n\n\n(defn- sorted-arr-distinct\n  \"Filter out repetitive values in a sorted array.\n   Optimized for no-duplicates case\"\n  [arr cmp]\n  (if (sorted-arr-distinct? arr cmp)\n    arr\n    (let [al (arrays/alength arr)]\n      (loop [acc (transient [(arrays/aget arr 0)])\n             i   1\n             p   (arrays/aget arr 0)]\n        (if (>= i al)\n          (into-array (persistent! acc))\n          (let [e (arrays/aget arr i)]\n            (if (== 0 (cmp e p))\n              (recur acc (inc i) e)\n              (recur (conj! acc e) (inc i) e))))))))\n\n\n;; Public interface\n\n(defn conj\n  \"Analogue to [[clojure.core/conj]] with comparator that overrides the one stored in set.\"\n  [set key cmp]\n  (let [roots (node-conj (.-root set) cmp key)]\n    (cond\n      ;; tree not changed\n      (nil? roots)\n        set\n     \n      ;; keeping single root\n      (== (arrays/alength roots) 1)\n        (alter-btset set\n          (arrays/aget roots 0)\n          (.-shift set)\n          (inc (.-cnt set)))\n     \n      ;; introducing new root\n      :else\n        (alter-btset set\n          (Node. (arrays/amap node-lim-key roots) roots)\n          (+ (.-shift set) level-shift)\n          (inc (.-cnt set))))))\n\n\n(defn disj\n  \"Analogue to [[clojure.core/disj]] with comparator that overrides the one stored in set.\"\n  [set key cmp]\n  (let [new-roots (node-disj (.-root set) cmp key true nil nil)]\n    (if (nil? new-roots) ;; nothing changed, key wasn't in the set\n      set\n      (let [new-root (arrays/aget new-roots 0)]\n        (if (and (instance? Node new-root)\n                 (== 1 (arrays/alength (.-pointers new-root))))\n          \n          ;; root has one child, make him new root\n          (alter-btset set\n            (arrays/aget (.-pointers new-root) 0)\n            (- (.-shift set) level-shift)\n            (dec (.-cnt set)))\n          \n          ;; keeping root level\n          (alter-btset set\n            new-root\n            (.-shift set)\n            (dec (.-cnt set))))))))\n\n\n(defn slice\n  \"An iterator for part of the set with provided boundaries.\n   `(slice set from to)` returns iterator for all Xs where from <= X <= to.\n   Optionally pass in comparator that will override the one that set uses. Supports efficient [[clojure.core/rseq]].\"\n  ([set key-from key-to]\n    (-slice set key-from key-to (.-comparator set)))\n  ([set key-from key-to comparator]\n    (-slice set key-from key-to comparator)))\n\n\n(defn rslice\n  \"A reverse iterator for part of the set with provided boundaries.\n   `(rslice set from to)` returns backwards iterator for all Xs where from <= X <= to.\n   Optionally pass in comparator that will override the one that set uses. Supports efficient [[clojure.core/rseq]].\"\n  ([set key]\n    (some-> (-slice set key key (.-comparator set)) rseq))\n  ([set key-from key-to]\n    (some-> (-slice set key-to key-from (.-comparator set)) rseq))\n  ([set key-from key-to comparator]\n    (some-> (-slice set key-to key-from comparator) rseq)))\n\n\n(defn from-sorted-array\n  \"Fast path to create a set if you already have a sorted array of elements on your hands.\"\n  [cmp arr]\n  (let [leaves (->> arr\n                   (arr-partition-approx min-len max-len)\n                   (arr-map-inplace #(Leaf. %)))]\n    (loop [current-level leaves\n           shift 0]\n      (case (count current-level)\n        0 (BTSet. (Leaf. (arrays/array)) 0 0 cmp nil uninitialized-hash)\n        1 (BTSet. (first current-level) shift (arrays/alength arr) cmp nil uninitialized-hash)\n        (recur (->> current-level\n                    (arr-partition-approx min-len max-len)\n                    (arr-map-inplace #(Node. (arrays/amap node-lim-key %) %)))\n               (+ shift level-shift))))))\n\n\n(defn from-sequential\n  \"Create a set with custom comparator and a collection of keys. Useful when you don\u2019t want to call [[clojure.core/apply]] on [[sorted-set-by]].\"\n  [cmp seq]\n  (let [arr (-> (into-array seq) (arrays/asort cmp) (sorted-arr-distinct cmp))]\n    (from-sorted-array cmp arr)))\n\n\n(defn sorted-set-by\n  ([cmp] (BTSet. (Leaf. (arrays/array)) 0 0 cmp nil uninitialized-hash))\n  ([cmp & keys] (from-sequential cmp keys)))\n\n\n(defn sorted-set\n  ([] (sorted-set-by compare))\n  ([& keys] (from-sequential compare keys)))"]}